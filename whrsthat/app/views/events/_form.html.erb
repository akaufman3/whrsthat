<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&libraries=places"></script>
<div id="new_map"></div>
<%= form_for @event, html: { multipart: true } do |f| %>
  <% if @event.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@event.errors.count, "error") %> prohibited this event from being saved:</h2>

      <ul>
      <% @event.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <% 
    def input_class(floating = true, js = true)
      "mdl-textfield"+(js ? ' mdl-js-textfield' : '')+(floating ? ' mdl-textfield--floating-label' : '')
    end
  %>

  <%= f.hidden_field :place_id, :class => 'place_id' %>
  <%= f.hidden_field :longitude, :class => 'longitude' %>
  <%= f.hidden_field :latitude, :class => 'latitude' %>

  <div class="<%= input_class(false, false) %>">
    <%= f.label :event_address, :class => 'mdl-textfield__label' %>
    <%= f.text_field :event_address,  :class => 'mdl-textfield__input address' %>
  </div>
  <div class="<%= input_class %>">
    <%= f.label :title, :class => 'mdl-textfield__label' %>
    <%= f.text_field :title,  :class => 'mdl-textfield__input' %>
  </div>
  <div class="<%= input_class %>">
    <%= f.label :caption, :class => 'mdl-textfield__label' %>
    <%= f.text_field :caption, :class => 'mdl-textfield__input' %>
  </div>
  <div class="<%= input_class %>">
    <%= f.label :time_at, :class => 'mdl-textfield__label' %>
    <%= f.text_field :time_at, :class => 'mdl-textfield__input' %>
  </div>
  <div class="<%= input_class %> file_input_box">
    <%= f.label :photo, :class => 'mdl-textfield__label' %>
    <%= render partial: 'upload', locals: { } %>
  </div>

  <div class="sample">
    <img />
  </div>

  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
